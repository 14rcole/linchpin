---
gcloud-gce-new:
  topology:
    topology_name: gce-new
    resource_groups:
      - resource_group_name: gcloud
        resource_group_type: gcloud
        resource_definitions:
          - name: gce-webserver
            role: gcloud_gce
            flavor: {{ flavor | default('f1-micro') }}
            region: {{ region | default('us-central1-a') }}
            image: {{ image | default('centos-7') }}
            count: 1
        {% if credentials is defined %}
        credentials:
          filename: {{ credentials.filename }}
        {% else %}
        credentials:
          filename: gcloud.key
        {% endif %}
  layout:
    inventory_layout:
      vars:
        hostname: __IP__
      hosts:
        example-node:
          count: 1
          host_groups:
            - example

gcloud-template-inventory:
  topology:
    topology_name: gcloud
    resource_groups:
      - resource_group_name: gcloud
        resource_group_type: gcloud
        resource_definitions:
          - name: webserver
            type: gcloud_gce
            flavor: {{ flavor | default('f1-micro') }}
            region: {{ region | default('us-central1-a') }}
            image: {{ image | default('centos-7') }}
            count: 1
        {% if credentials is defined %}
        credentials:
          filename: {{ credentials.filename }}
        {% else %}
        credentials:
          filename: gcloud.key
        {% endif %}
  layout:
    inventory_layout:
      vars:
        hostname: __IP__
      hosts:
        example-node:
          count: 1
          host_groups:
            - example

gcloud-gce-eip:
  topology:
    topology_name: gcloud
    resource_groups:
      - resource_group_name: "gcloud"
        resource_group_type: "gcloud"
        resource_definitions:
          - name: "testgcloudeiplinchpin"
            role: gcloud_gce_eip
            region: us-east1
        credentials:
          filename: gcloud.key
