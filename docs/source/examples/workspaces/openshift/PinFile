---
openshift-new:
  topology:
    topology_name: openshift
    resource_groups:
      - resource_group_name: test1
        resource_group_type: openshift
        resource_definitions:
          - name: openshift
            role: openshift_inline
            namespace: "{{ namespace | default('coninuous-infra') }}"
            definition:
              kind: Pod
              apiVersion: v1
              metadata:
                name: hello-openshift
                labels:
                  name: hello-openshift
              spec:
                containers:
                - name: hello-openshift
                  image: openshift/hello-openshift
                  ports:
                  - containerPort: 8080
                    protocol: TCP
                  resources: {}
                  volumeMounts:
                  - name: tmp
                    mountPath: /tmp
                  terminationMessagePath: /dev/termination-log
                  imagePullPolicy: IfNotPresent
                  capabilities: {}
                  securityContext:
                    capabilities: {}
                    privileged: false
                volumes:
                - name: tmp
                  emptyDir: {}
                restartPolicy: Always
                dnsPolicy: ClusterFirst
                serviceAccount: ''
                status: {}
        credentials:
          filename: "{{ credsfile | default('upshift.yaml') }}" # fetched from --creds-path is provided
          profile: "{{ profile | default('default') }}"
